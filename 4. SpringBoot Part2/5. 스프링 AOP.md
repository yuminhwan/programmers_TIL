## Aspect Orient Programming 

- Asepect
	- 기능, 부가 기능, 관심 
- Cross Cutting Concern 해결을 위해서 사용되어 진다.



### Cross Cutting Concern 

> 공통으로 고민해야 하는 것들 

![CrossCuttingConcersn](https://tva1.sinaimg.cn/large/e6c9d24egy1h19ijo6xlmj20qq0ko3zc.jpg)

[사진 출처](https://www.codejava.net/frameworks/spring/understanding-spring-aop)

각 layer 층에 적용하는 것이 아니라 Cross Cutting Concerns를 통해 핵심 기능과 부가기능을 분리하여 적용한다. 

예를 들면 Logging, Transaction Management, Security와 같은 부분을 말이다.



```java
class 계좌이체서비스 {
    
    method 이체() {
        AAAA
        
        비즈니스 로직 
            
        BBBB
    }

    method 계좌확인() {
        AAAA

        비즈니스 로직

        BBBB
    }
}

class 대출승인서비스 {
    method 승인() {
        AAAA

        비즈니스 로직

        BBBB
    }
}
```

이런 식의 코드가 있다고 가정해보자. 

각 메서드마다 AAAA, BBBB 가 공통적으로 사용되어지고 있다. 만약 수정해야한다면 일일이 다 바꿔줘야 할 것이다. 

이러한 점을 AOP를 통해 해결하는 것이다. 즉, 핵심기능인 비즈니스 로직과 부가기능인 AAAA,BBBB를 분리하자는 것이다.



## AOP 적용 방법 (Weaving)

- 컴파일 시점 
	- AspectJ
	- 부가기능을 소스코드에 삽입 
- 클래스 로딩 시점 
	- 로딩시 바이트코드에 삽입 
- 런타임 시점 
	- Spring AOP 
	- Proxy 사용 



### AOP Proxies 

![img](https://tva1.sinaimg.cn/large/e6c9d24egy1h19ivmyrmtj20zj0higni.jpg)

[사진 출처](https://www.baeldung.com/spring-aop-vs-aspectj)

- JDK dynamic proxies 
	- 인터페이스 기반 
- CGLIB proxies 
	- 클래스 기반 



## @AspectJ support 

예전에는 XML파일을 사용했지만 요즘은 어노테이션으로 처리한다.



### AOP 주요 용어

